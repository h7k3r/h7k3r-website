<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>h7k3r | Hardware Intelligence & Forensics</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;500;700&family=JetBrains+Mono:wght@400;700&display=swap');
        
        :root { --cyan: #00f3ff; --red: #ff003c; --bg: #020202; --panel: #0a0a0a; }
        
        body { background-color: var(--bg); color: #d1d5db; font-family: 'Inter', sans-serif; -webkit-font-smoothing: antialiased; overflow-x: hidden; }
        .font-cyber { font-family: 'Orbitron', sans-serif; }
        .font-mono { font-family: 'JetBrains Mono', monospace; }
        
        /* Modern Typography */
        .heading { font-weight: 700; letter-spacing: 0.05em; text-transform: uppercase; color: #ffffff; }

        /* Metallic Blue Text Effect */
        .text-metallic-blue {
            background: linear-gradient(to bottom, #ffffff 0%, #00f3ff 50%, #0077aa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0px 2px 8px rgba(0, 243, 255, 0.4));
        }

        /* Sleek Mobile Navigation */
        .nav-link { position: relative; padding: 0.6rem 1rem; color: #94a3b8; transition: 0.3s; font-size: 0.7rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.15em; white-space: nowrap; border: 1px solid transparent; border-radius: 2px; }
        .nav-link:hover { color: #ffffff; background: rgba(255, 255, 255, 0.03); }
        .nav-link.active { color: var(--cyan); border-color: rgba(0, 243, 255, 0.2); background: rgba(0, 243, 255, 0.05); }

        /* Tab Content Transitions */
        .tab-content { display: none; opacity: 0; }
        .tab-content.active { display: block; opacity: 1; animation: fadeIn 0.4s ease-out forwards; }
        @keyframes fadeIn { from { transform: translateY(10px); opacity: 0; } to { opacity: 1; } }

        /* V4 Slider */
        .hero-slide { display: none; opacity: 0; transition: opacity 1s ease-in-out; }
        .hero-slide.active { display: flex; opacity: 1; }

        /* Flat Industrial Panels */
        .card { background: var(--panel); border: 1px solid #1e293b; transition: 0.2s; }
        .card:hover { border-color: var(--cyan); }

        /* Buttons */
        .btn-action { background: #ffffff; color: #000000; font-weight: 800; font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.1em; transition: 0.2s; padding: 0.8rem 1.5rem; border-radius: 1px; }
        .btn-action:hover { background: var(--cyan); transform: translateY(-1px); }

        /* WHITE WORLD MAP (HIGH CONTRAST) */
        #map-container { background: #000; position: relative; overflow: hidden; border: 1px solid #1e293b; }
        .map-bg { 
            position: absolute; inset: 0; 
            background-image: url('https://upload.wikimedia.org/wikipedia/commons/e/ec/World_map_blank_without_borders.svg'); 
            background-size: cover; background-position: center; 
            filter: invert(1) brightness(2) contrast(1.2) opacity(0.8); /* This makes the map lines pure white */
        }

        /* Simulation Arcade Styling */
        .game-canvas-container { touch-action: none; position: relative; background: #000; border: 1px solid #1e293b; border-radius: 2px; }
        canvas { image-rendering: pixelated; width: 100%; height: auto; display: block; }
        .decrypt-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 4px; width: 100%; max-width: 220px; }
        .decrypt-grid div { aspect-ratio: 1/1; background: #111; border: 1px solid #222; cursor: pointer; border-radius: 1px; }

        #modal { display: none; }
        .modal-active { display: flex !important; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <div id="modal" class="fixed inset-0 z-[1000] bg-black/95 flex items-center justify-center p-4 backdrop-blur-md">
        <div class="card p-8 max-w-md w-full relative shadow-2xl border-t-2 border-cyan-500">
            <button onclick="closeModal()" class="absolute top-4 right-4 font-mono text-[10px] text-slate-500 hover:text-white uppercase tracking-widest">[ ESC ]</button>
            <h2 class="font-cyber text-xl mb-6 text-white uppercase tracking-widest">Inquiry_Protocol</h2>
            <form action="https://formspree.io/f/mnjblgln" method="POST" class="space-y-4">
                <input type="text" name="name" placeholder="OPERATOR NAME" required class="w-full bg-[#050505] border border-slate-800 p-3 text-xs font-mono focus:border-cyan-500 outline-none text-white">
                <input type="email" name="email" placeholder="SECURE EMAIL" required class="w-full bg-[#050505] border border-slate-800 p-3 text-xs font-mono focus:border-cyan-500 outline-none text-white">
                <select id="modal-select" name="unit" class="w-full bg-[#050505] border border-slate-800 p-3 text-xs font-mono focus:border-cyan-500 outline-none text-white">
                    <option value="Project_P">Project P (£750)</option>
                    <option value="Series_P">Series P (£749)</option>
                    <option value="Black_Box">Black Box V1 (£4,200)</option>
                    <option value="Apex_Rig">Apex Custom Series</option>
                    <option value="Incident_Response">Incident Response (Repair)</option>
                </select>
                <textarea name="mission" placeholder="SPECIFICATIONS / MISSION PARAMETERS" class="w-full bg-[#050505] border border-slate-800 p-3 text-xs font-mono h-24 focus:border-cyan-500 outline-none text-white"></textarea>
                <input type="hidden" name="_next" value="https://h7k3r.com/success.html">
                <button type="submit" class="w-full py-4 btn-action">Transmit Signal</button>
            </form>
        </div>
    </div>

    <nav class="fixed top-0 w-full z-[100] border-b border-white/5 bg-black/95 backdrop-blur-md">
        <div class="max-w-7xl mx-auto px-4 py-3 flex flex-col md:flex-row justify-between items-center gap-3">
            <div class="font-cyber font-black text-xl cursor-pointer text-white tracking-widest w-full md:w-auto text-center" onclick="showTab('home')">
                h7k3r<span class="text-cyan-500">.SYS</span>
            </div>
            
            <div class="flex overflow-x-auto no-scrollbar w-full md:w-auto space-x-1 py-1">
                <button onclick="showTab('home')" id="btn-home" class="nav-link active">Mission</button>
                <button onclick="showTab('hardware')" id="btn-hardware" class="nav-link">Hardware</button>
                <button onclick="showTab('gear')" id="btn-gear" class="nav-link">Armory</button>
                <button onclick="showTab('arcade')" id="btn-arcade" class="nav-link text-yellow-500">Simulations</button>
                <button onclick="showTab('ops')" id="btn-ops" class="nav-link text-red-500">Operations</button>
                <button onclick="showTab('logs')" id="btn-logs" class="nav-link">Logs</button>
                <button onclick="showTab('pro')" id="btn-pro" class="nav-link border border-white/10 rounded px-3">Portal</button>
            </div>
        </div>
    </nav>

    <main class="flex-grow pt-28 pb-12">
        
        <section id="tab-home" class="tab-content active px-4 max-w-7xl mx-auto">
            <div class="relative h-[50vh] md:h-[60vh] flex items-center justify-center overflow-hidden border border-white/5 rounded-sm bg-[#010101] mb-8">
                <div onclick="showTab('hardware')" class="hero-slide active flex-col items-center text-center px-4 w-full cursor-pointer">
                    <h1 class="font-cyber text-4xl md:text-7xl font-black mb-4 uppercase tracking-tighter">OPSEC <span class="text-metallic-blue">LABS.</span></h1>
                    <p class="font-mono text-[10px] md:text-sm text-slate-500 uppercase tracking-widest">Signal Intelligence & Field Recovery Hardware</p>
                </div>
                <div onclick="showTab('hardware')" class="hero-slide flex-col items-center text-center px-4 w-full cursor-pointer">
                    <h1 class="font-cyber text-4xl md:text-7xl font-black mb-4 uppercase tracking-tighter">SERIES <span class="text-metallic-blue">P.</span></h1>
                    <p class="font-mono text-[10px] md:text-sm text-slate-500 uppercase tracking-widest">Balanced Performance. Unmatched Reliability.</p>
                </div>
                <div onclick="showTab('hardware')" class="hero-slide flex-col items-center text-center px-4 w-full cursor-pointer">
                    <h1 class="font-cyber text-4xl md:text-7xl font-black mb-4 uppercase tracking-tighter">APEX <span class="text-metallic-blue">CUSTOMS.</span></h1>
                    <p class="font-mono text-[10px] md:text-sm text-slate-500 uppercase tracking-widest">Trident & Zero-G (Xproto) Masterpieces</p>
                </div>
            </div>

            <div class="grid grid-cols-2 lg:grid-cols-4 gap-px bg-white/5 border border-white/5 mb-12">
                <div class="bg-black p-8 text-center"><p class="font-cyber text-2xl text-cyan-400 mb-1">#01</p><p class="font-mono text-[10px] text-slate-600 uppercase">Global_Rank</p></div>
                <div class="bg-black p-8 text-center"><p class="font-cyber text-2xl text-white mb-1">100%</p><p class="font-mono text-[10px] text-slate-600 uppercase">Verifiable</p></div>
                <div class="bg-black p-8 text-center"><p class="font-cyber text-2xl text-white mb-1">8.6k</p><p class="font-mono text-[10px] text-slate-600 uppercase">Max_Hashrate</p></div>
                <div class="bg-black p-8 text-center"><p class="font-cyber text-2xl text-white mb-1" id="ui-node-code">UK_01</p><p class="font-mono text-[10px] text-slate-600 uppercase">Node_Status</p></div>
            </div>

            <div class="mb-12">
                <div class="flex justify-between items-end mb-4 px-2">
                    <h2 class="font-cyber text-sm text-white uppercase tracking-widest">Threat_Monitor_Live</h2>
                    <div id="node-location" class="font-mono text-[10px] text-cyan-500 uppercase">Origin: Scanning Node...</div>
                </div>
                <div id="map-container" class="w-full h-64 md:h-[450px]">
                    <div class="map-bg"></div>
                    <canvas id="attackCanvas" class="absolute inset-0 z-20 w-full h-full"></canvas>
                </div>
            </div>

            <div class="pb-12">
                <h2 class="font-cyber text-center text-xl mb-10 uppercase tracking-[0.3em] text-slate-500">Masterpiece_Archives</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="card aspect-square relative group overflow-hidden cursor-pointer" onclick="showTab('logs')">
                        <img src="https://images.unsplash.com/photo-1587202377405-836165b1040a?w=600" class="absolute inset-0 w-full h-full object-cover opacity-40 group-hover:opacity-100 group-hover:scale-105 transition duration-700">
                        <div class="absolute bottom-0 left-0 p-6 bg-gradient-to-t from-black to-transparent w-full">
                            <span class="font-mono text-[10px] text-white uppercase tracking-widest">Build_101: Void_Runner</span>
                        </div>
                    </div>
                    <div class="card aspect-square relative group overflow-hidden cursor-pointer" onclick="showTab('logs')">
                        <img src="https://images.unsplash.com/photo-1547082299-de196ea013d6?w=600" class="absolute inset-0 w-full h-full object-cover opacity-40 group-hover:opacity-100 group-hover:scale-105 transition duration-700">
                        <div class="absolute bottom-0 left-0 p-6 bg-gradient-to-t from-black to-transparent w-full">
                            <span class="font-mono text-[10px] text-white uppercase tracking-widest">Build_104: Ghost_Shell</span>
                        </div>
                    </div>
                    <div class="card aspect-square relative group overflow-hidden cursor-pointer" onclick="showTab('logs')">
                        <img src="https://images.unsplash.com/photo-1591488320449-011701bb6704?w=600" class="absolute inset-0 w-full h-full object-cover opacity-40 group-hover:opacity-100 group-hover:scale-105 transition duration-700">
                        <div class="absolute bottom-0 left-0 p-6 bg-gradient-to-t from-black to-transparent w-full">
                            <span class="font-mono text-[10px] text-white uppercase tracking-widest">Build_112: Neural_Lace</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="tab-hardware" class="tab-content px-4 max-w-7xl mx-auto">
            <h2 class="heading text-3xl mb-12 text-center text-slate-100">Operational Hardware</h2>
            
            <div class="card p-8 md:p-12 border-l-4 border-l-red-600 flex flex-col md:flex-row items-center gap-10 mb-12">
                <div class="flex-1">
                    <span class="font-mono text-[10px] text-red-500 mb-2 block tracking-widest uppercase">Classified Field Asset</span>
                    <h3 class="font-cyber text-4xl text-white mb-6 uppercase tracking-widest">Black_Box V1</h3>
                    <p class="text-sm text-slate-400 mb-8 leading-relaxed max-w-xl font-mono uppercase">Designed for mass-scale wireless interception and forensic decryption. Features integrated SDR modules and hardware kill-switches.</p>
                    <div class="text-4xl font-mono text-white mb-8">£4,200.00</div>
                    <button onclick="openModal('Black_Box')" class="btn-action !bg-red-600 !text-white hover:!bg-white hover:!text-black">Deploy Asset</button>
                </div>
                <div class="w-full md:w-64 aspect-square border border-white/5 bg-black flex items-center justify-center font-mono text-xs text-slate-700">
                    [ SCHEMATIC_ENCRYPTED ]
                </div>
            </div>

            <div class="grid md:grid-cols-2 gap-8 mb-12">
                <div class="card p-10 border-t-2 border-cyan-500">
                    <h3 class="font-cyber text-3xl text-white mb-2 uppercase">Project_P</h3>
                    <p class="font-mono text-[10px] text-cyan-400 mb-6 uppercase tracking-widest">Veno_Scorp Killer</p>
                    <p class="text-sm text-slate-400 mb-10 leading-relaxed font-mono uppercase">Optimized logic-board tuning. Engineered for zero thermal latency. Pure competitive dominance.</p>
                    <div class="text-3xl font-mono text-white mb-8">£750.00</div>
                    <button onclick="openModal('Project_P')" class="btn-action w-full">Acquire Asset</button>
                </div>
                <div class="card p-10 border-t-2 border-slate-700">
                    <h3 class="font-cyber text-3xl text-white mb-2 uppercase">Series_P</h3>
                    <p class="font-mono text-[10px] text-slate-500 mb-6 uppercase tracking-widest">Prosumer Excellence</p>
                    <p class="text-sm text-slate-400 mb-10 leading-relaxed font-mono uppercase">Balanced performance geometry. Built for sustained heavy-load research and production.</p>
                    <div class="text-3xl font-mono text-white mb-8">£749.00</div>
                    <button onclick="openModal('Series_P')" class="btn-action w-full !bg-white">Pre-Order</button>
                </div>
            </div>

            <div class="grid md:grid-cols-3 gap-6">
                <div class="card p-8 flex flex-col justify-between">
                    <h3 class="heading text-xl text-white mb-4">ITX Spectre</h3>
                    <div class="text-2xl font-mono text-cyan-400 mb-6">£4,890.00</div>
                    <button onclick="openModal('Apex_Rig')" class="btn-action !bg-transparent border border-white/20 text-white hover:border-cyan-500">Reserve</button>
                </div>
                <div class="card p-8 border-cyan-500/40 bg-cyan-950/10 flex flex-col justify-between">
                    <h3 class="heading text-xl text-cyan-400 mb-4 uppercase">Zero-G</h3>
                    <div class="text-2xl font-mono text-white mb-6">£7,250.00</div>
                    <button onclick="openModal('Apex_Rig')" class="btn-action">Reserve</button>
                </div>
                <div class="card p-8 flex flex-col justify-between">
                    <h3 class="heading text-xl text-white mb-4">Trident</h3>
                    <div class="text-2xl font-mono text-cyan-400 mb-6">£8,610.00</div>
                    <button onclick="openModal('Apex_Rig')" class="btn-action !bg-transparent border border-white/20 text-white hover:border-cyan-500">Reserve</button>
                </div>
            </div>
        </section>

        <section id="tab-gear" class="tab-content px-4 max-w-7xl mx-auto">
            <h2 class="heading text-3xl text-center mb-12 text-white">Tactical_Armory</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6" id="gearGrid">
                </div>
        </section>

        <section id="tab-arcade" class="tab-content px-4 max-w-7xl mx-auto">
            <h2 class="font-cyber text-3xl text-yellow-500 text-center mb-10 uppercase tracking-widest">Operator Simulations</h2>
            
            <div class="grid lg:grid-cols-3 gap-8">
                <div class="card p-6 flex flex-col">
                    <div class="flex justify-between items-center mb-6">
                        <h4 class="font-mono text-xs font-bold text-slate-300">01_FIREWALL</h4>
                        <span id="score-fw" class="font-mono text-cyan-500 text-xs">SCORE: 0</span>
                    </div>
                    <div class="game-canvas-container aspect-video mb-6" id="game-fw">
                        <canvas id="canvas-fw" width="300" height="150"></canvas>
                        <div id="ui-fw" class="absolute inset-0 flex items-center justify-center bg-black/80 backdrop-blur-sm">
                            <button onclick="startFW()" class="btn-action !bg-cyan-600 !text-black px-6 py-2">EXECUTE</button>
                        </div>
                    </div>
                    <p class="text-center font-mono text-[10px] text-slate-600 uppercase tracking-tighter">Click to jump // Bypass filters</p>
                </div>

                <div class="card p-6 flex flex-col items-center">
                    <div class="w-full flex justify-between items-center mb-6">
                        <h4 class="font-mono text-xs font-bold text-slate-300">02_DECRYPT</h4>
                        <span id="score-dc" class="font-mono text-green-500 text-xs">LVL: 1</span>
                    </div>
                    <div class="bg-black border border-slate-800 p-4 mb-6 rounded-sm w-full flex items-center justify-center relative">
                        <div class="decrypt-wrapper">
                            <div id="grid-dc" class="decrypt-grid">
                                <div class="col-span-3 text-slate-700 font-mono text-[10px] flex items-center justify-center">STANDBY</div>
                            </div>
                        </div>
                        <div id="ui-dc" class="absolute inset-0 flex items-center justify-center bg-black/80 backdrop-blur-sm">
                            <button onclick="startDC()" id="btn-dc" class="btn-action !bg-green-600 !text-black px-6 py-2">SYNC_NEURAL</button>
                        </div>
                    </div>
                    <p class="text-center font-mono text-[10px] text-slate-600 uppercase tracking-tighter">Repeat pattern // Neural memory</p>
                </div>

                <div class="card p-6 flex flex-col">
                    <div class="flex justify-between items-center mb-6">
                        <h4 class="font-mono text-xs font-bold text-slate-300">03_BIT_SNAKE</h4>
                        <span id="score-sn" class="font-mono text-yellow-500 text-xs">BITS: 0</span>
                    </div>
                    <div class="game-canvas-container aspect-video mb-6" id="game-sn">
                        <canvas id="canvas-sn" width="300" height="150"></canvas>
                        <div id="ui-sn" class="absolute inset-0 flex items-center justify-center bg-black/80 backdrop-blur-sm">
                            <button onclick="startSN()" class="btn-action !bg-yellow-600 !text-black px-6 py-2">INJECT</button>
                        </div>
                    </div>
                    <p class="text-center font-mono text-[10px] text-slate-600 uppercase tracking-tighter">Swipe to direct // Collect bits</p>
                </div>
            </div>
        </section>

        <section id="tab-ops" class="tab-content px-4 max-w-5xl mx-auto">
            <div class="card p-10 border-l-4 border-l-red-600">
                <div class="text-center mb-12">
                    <h2 class="font-cyber text-4xl text-white mb-2 uppercase tracking-widest">Incident_Response</h2>
                    <p class="font-mono text-xs text-red-500 tracking-[0.4em] uppercase">Laboratory Level Intervention</p>
                </div>
                <div class="grid md:grid-cols-2 gap-12 mb-12">
                    <div class="space-y-4">
                        <h4 class="font-bold text-white uppercase text-sm border-b border-white/5 pb-2">Silicon Microsurgery</h4>
                        <p class="text-sm text-slate-400 leading-relaxed font-mono uppercase">Trace reconstruction and blown IC replacement executed under high-power stereomicroscopes. Failure is a software error; we fix the hardware.</p>
                    </div>
                    <div class="space-y-4">
                        <h4 class="font-bold text-white uppercase text-sm border-b border-white/5 pb-2">Forensic Data Forensics</h4>
                        <p class="text-sm text-slate-400 leading-relaxed font-mono uppercase">Physical platter swaps, read-head replacements, and NAND chip-off data extraction inside ISO-certified environments.</p>
                    </div>
                </div>
                <div class="text-center border-t border-white/5 pt-8">
                    <button onclick="openModal('Incident_Response')" class="btn-action !bg-red-700 !text-white px-16 py-5">Initiate Diagnostic Ticket</button>
                </div>
            </div>
        </section>

        <section id="tab-logs" class="tab-content px-6 max-w-7xl mx-auto">
            <h2 class="heading text-2xl text-center mb-12 text-white">Declassified_Logs</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="card p-8 border-t-2 border-t-cyan-500">
                    <div class="font-mono text-[10px] text-slate-500 mb-4 uppercase">Log_#8842 // DATA_RECON</div>
                    <p class="text-sm text-slate-300 italic mb-6">"Retrieved 4TB of architectural CAD files from a drive declared physically dead by Apple. Exceptional throughput."</p>
                    <div class="text-xs font-bold text-cyan-500 uppercase tracking-widest">Status: Case_Secured</div>
                </div>
                <div class="card aspect-square bg-slate-900 border-none overflow-hidden group">
                    <img src="build1.jpg" alt="Log 1" onerror="this.src='https://images.unsplash.com/photo-1587202377405-836165b1040a?w=600'" class="w-full h-full object-cover grayscale opacity-40 group-hover:opacity-100 transition duration-500">
                </div>
                <div class="card aspect-square bg-slate-900 border-none overflow-hidden group">
                    <img src="build2.jpg" alt="Log 2" onerror="this.src='https://images.unsplash.com/photo-1547082299-de196ea013d6?w=600'" class="w-full h-full object-cover grayscale opacity-40 group-hover:opacity-100 transition duration-500">
                </div>
            </div>
        </section>

        <section id="tab-pro" class="tab-content px-6 max-w-5xl mx-auto">
            <div class="card p-12">
                <h2 class="heading text-2xl text-cyan-400 mb-2 uppercase">Level_4_Assets</h2>
                <p class="font-mono text-xs text-slate-500 mb-12 border-b border-white/5 pb-6">Restricted firmware repositories and internal diagnostics tools.</p>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="flex justify-between items-center p-4 bg-white/5 border border-white/5 hover:border-cyan-500 transition cursor-pointer group">
                        <span class="font-mono text-sm text-white uppercase">Bios_Overrides.zip</span>
                        <span class="text-cyan-400 text-xs font-bold">[ DOWNLOAD ]</span>
                    </div>
                    <div class="flex justify-between items-center p-4 bg-white/5 border border-white/5 hover:border-cyan-500 transition cursor-pointer group">
                        <span class="font-mono text-sm text-white uppercase">Thermals_Daemon.sh</span>
                        <span class="text-cyan-400 text-xs font-bold">[ DOWNLOAD ]</span>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="p-8 border-t border-white/5 text-center md:text-left bg-black mt-auto">
        <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6">
            <div class="font-mono text-[10px] text-slate-600 uppercase tracking-widest">© 2026 h7k3r Systems // Offensive Hardware research</div>
            <div class="font-mono text-[10px] text-cyan-700 uppercase tracking-widest" id="loc-footer">NODE_TRACE: SCANNING...</div>
        </div>
    </footer>

    <script>
        // NAVIGATION
        function showTab(id) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.nav-link').forEach(b => b.classList.remove('active'));
            const target = document.getElementById('tab-' + id);
            const btn = document.getElementById('btn-' + id);
            if(target) target.classList.add('active');
            if(btn) btn.classList.add('active');
            window.scrollTo(0,0);
        }

        // HERO SLIDER
        let currentSlide = 0;
        const slides = document.querySelectorAll('.hero-slide');
        setInterval(() => {
            if (document.getElementById('tab-home').classList.contains('active')) {
                slides[currentSlide].classList.remove('active');
                currentSlide = (currentSlide + 1) % slides.length;
                slides[currentSlide].classList.add('active');
            }
        }, 2500);

        // MODAL
        function openModal(val) { document.getElementById('modal-select').value = val; document.getElementById('modal').classList.add('modal-active'); }
        function closeModal() { document.getElementById('modal').classList.remove('modal-active'); }

        // IP TRACING
        fetch('https://get.geojs.io/v1/ip/geo.json')
            .then(res => res.json())
            .then(data => {
                const city = (data.city || data.region || "Secure Loc").toUpperCase();
                document.getElementById('node-location').innerText = `Origin: ${city} Node Established`;
                document.getElementById('loc-footer').innerText = `NODE_ORIGIN: ${city} // ${data.ip}`;
            });

        // GEAR DATA
        const gear = [
            { n: "Stealth Hoodie", p: "145", d: "EMI Shielding Outerwear" }, { n: "Cable Sleeves", p: "45", d: "Pro Link Kit" },
            { n: "EDC Pouch", p: "25", d: "Tactical Organizer" }, { n: "ID Patch", p: "12", d: "PVC Asset" },
            { n: "Silicon Mat", p: "35", d: "Anti-Static Desk Grid" }, { n: "Faraday Bag", p: "30", d: "RF Signal Blocker" },
            { n: "SSD Field Drive", p: "85", d: "Encrypted Storage" }, { n: "Operator Cap", p: "28", d: "Low-Profile" },
            { n: "AES USB Killer", p: "45", d: "Hardware Cut" }, { n: "Signal Jammer", p: "320", d: "RF Suppression" },
            { n: "Tactical Deck", p: "450", d: "Rugged SFF Shell" }, { n: "Precision Bits", p: "85", d: "Solder Tool Kit" }
        ];
        const gGrid = document.getElementById('gearGrid');
        gear.forEach(i => {
            gGrid.innerHTML += `<div class="card p-6 text-center flex flex-col justify-between items-center"><h4 class="font-bold text-xs text-white mb-2 uppercase">${i.n}</h4><p class="font-mono text-[8px] text-slate-600 mb-6 uppercase">${i.d}</p><span class="font-mono text-cyan-400 text-xs mb-4">£${i.p}.00</span><button onclick="openModal('Tactical_Gear')" class="btn-action w-full !py-2 !text-[9px]">Acquire</button></div>`;
        });

        // WORLD MAP THREAT MONITOR (WHITE ARC VECTORS)
        const attackCvs = document.getElementById('attackCanvas');
        const attackCtx = attackCvs.getContext('2d');
        let attacks = [];
        function resizeAttacks() { attackCvs.width = attackCvs.parentElement.offsetWidth; attackCvs.height = attackCvs.parentElement.offsetHeight; }
        window.addEventListener('resize', resizeAttacks); resizeAttacks();
        function drawAttacks() {
            attackCtx.clearRect(0,0,attackCvs.width, attackCvs.height);
            if(Math.random() < 0.04) attacks.push({ x1: Math.random()*attackCvs.width, y1: Math.random()*attackCvs.height, x2: Math.random()*attackCvs.width, y2: Math.random()*attackCvs.height, l: 1.0 });
            attacks.forEach((a, i) => {
                attackCtx.beginPath(); attackCtx.moveTo(a.x1, a.y1);
                attackCtx.quadraticCurveTo((a.x1+a.x2)/2, Math.min(a.y1, a.y2)-100, a.x2, a.y2);
                attackCtx.strokeStyle = `rgba(255, 0, 60, ${a.l})`; attackCtx.lineWidth = 1.5; attackCtx.stroke();
                attackCtx.fillStyle = `rgba(0, 243, 255, ${a.l})`; attackCtx.beginPath(); attackCtx.arc(a.x1, a.y1, 3, 0, 7); attackCtx.fill();
                a.l -= 0.012; if(a.l <= 0) attacks.splice(i, 1);
            });
            requestAnimationFrame(drawAttacks);
        }
        drawAttacks();

        // ---- SIMULATION LOGIC ----
        // 01 FIREWALL
        let fwG = false, fwB, fwP = [], fwS = 0;
        const cvFW = document.getElementById('canvas-fw'), ctxFW = cvFW.getContext('2d');
        function startFW() { document.getElementById('ui-fw').style.display='none'; fwG=true; fwB={y:75,v:0}; fwP=[]; fwS=0; loopFW(); }
        function loopFW(){ if(!fwG)return; ctxFW.fillStyle="#000"; ctxFW.fillRect(0,0,300,150); fwB.v+=0.12; fwB.y+=fwB.v;
            ctxFW.fillStyle="#00f3ff"; ctxFW.fillRect(40, fwB.y, 8, 8);
            if(fwP.length===0 || fwP[fwP.length-1].x < 180) fwP.push({x:300, h:Math.random()*60+20});
            fwP.forEach((p, i)=>{ p.x-=1.2; let g=60; ctxFW.fillStyle="#ff003c"; ctxFW.fillRect(p.x, 0, 15, p.h); ctxFW.fillRect(p.x, p.h+g, 15, 150);
                if(40<p.x+15 && 48>p.x && (fwB.y<p.h || fwB.y+8>p.h+g)) fwG=false;
                if(p.x === 40) { fwS++; document.getElementById('score-fw').innerText = "SCORE: " + fwS; }
            });
            if(fwB.y > 150 || fwB.y < 0) fwG=false; 
            if(!fwG) { document.getElementById('ui-fw').style.display='flex'; } else requestAnimationFrame(loopFW);
        }
        const jump = (e) => { if(e) e.preventDefault(); if(fwG) fwB.v = -2.5; };
        cvFW.addEventListener('mousedown', jump); cvFW.addEventListener('touchstart', jump, {passive: false});

        // 02 DECRYPT
        let dcS = [], dcU = [], dcL = 1;
        function startDC() { dcL=1; document.getElementById('ui-dc').style.display='none'; setupDCGrid(); nextDC(); }
        function setupDCGrid() { const g = document.getElementById('grid-dc'); g.innerHTML = ''; for(let i=0;i<9;i++) g.innerHTML += `<div id="d-${i}" onclick="clickDC(${i})"></div>`; }
        function nextDC() { dcU = []; dcS.push(Math.floor(Math.random()*9)); document.getElementById('score-dc').innerText = "LVL: " + dcL; document.getElementById('grid-dc').style.pointerEvents = 'none';
            dcS.forEach((val, i) => { setTimeout(() => { const el = document.getElementById(`d-${val}`); if(el) { el.style.background = "#39ff14"; setTimeout(() => el.style.background="#111", 300); } }, (i+1) * 600); });
            setTimeout(() => { document.getElementById('grid-dc').style.pointerEvents = 'auto'; }, dcS.length * 600 + 400);
        }
        function clickDC(i) { dcU.push(i); const el = document.getElementById(`d-${i}`); el.style.background = "#00f3ff"; setTimeout(() => el.style.background="#111", 200);
            if(dcU[dcU.length-1] !== dcS[dcU.length-1]) { document.getElementById('grid-dc').innerHTML = `<div class="col-span-3 font-mono text-red-500 text-[10px] flex items-center justify-center">FAILED</div>`; document.getElementById('ui-dc').style.display='flex'; dcS=[]; } 
            else if(dcU.length === dcS.length) { dcL++; setTimeout(nextDC, 800); } 
        }

        // 03 BIT SNAKE
        let snG = false, snS, snF, snD, snID, snSc = 0, touchX = null, touchY = null;
        const cvSN = document.getElementById('canvas-sn'), ctxSN = cvSN.getContext('2d');
        function startSN() { document.getElementById('ui-sn').style.display='none'; snG=true; snS=[{x:15,y:7}]; snD='R'; snSc=0; spawnF(); if(snID) clearInterval(snID); snID = setInterval(loopSN, 100); }
        function spawnF() { snF = {x:Math.floor(Math.random()*29), y:Math.floor(Math.random()*14)}; }
        function loopSN() { if(!snG) return; let head = {...snS[0]}; if(snD==='R') head.x++; else if(snD==='L') head.x--; else if(snD==='U') head.y--; else if(snD==='D') head.y++;
            if(head.x<0||head.x>=30||head.y<0||head.y>=15 || snS.some(s=>s.x===head.x&&s.y===head.y)) { snG=false; clearInterval(snID); document.getElementById('ui-sn').style.display='flex'; return; }
            snS.unshift(head); if(head.x===snF.x && head.y===snF.y) { snSc++; document.getElementById('score-sn').innerText = "BITS: "+snSc; spawnF(); } else snS.pop();
            ctxSN.fillStyle="#000"; ctxSN.fillRect(0,0,300,150); ctxSN.fillStyle="#ffb700"; ctxSN.fillRect(snF.x*10, snF.y*10, 9, 9);
            ctxSN.fillStyle="#00f3ff"; snS.forEach(s=>ctxSN.fillRect(s.x*10, s.y*10, 9, 9));
        }
        window.addEventListener('keydown', (e) => { if(!snG) return; if(['ArrowUp','ArrowDown','ArrowLeft','ArrowRight'].includes(e.key)) e.preventDefault(); if(e.key==='ArrowRight' && snD!=='L') snD='R'; if(e.key==='ArrowLeft' && snD!=='R') snD='L'; if(e.key==='ArrowUp' && snD!=='D') snD='U'; if(e.key==='ArrowDown' && snD!=='U') snD='D'; });
        cvSN.addEventListener('touchstart', e => { e.preventDefault(); touchX = e.touches[0].clientX; touchY = e.touches[0].clientY; }, {passive: false});
        cvSN.addEventListener('touchend', e => { if(!touchX || !touchY || !snG) return; let dX = e.changedTouches[0].clientX - touchX, dY = e.changedTouches[0].clientY - touchY; if(Math.abs(dX) > Math.abs(dY)) { snD = dX > 0 ? (snD !== 'L' ? 'R' : snD) : (snD !== 'R' ? 'L' : snD); } else { snD = dY > 0 ? (snD !== 'U' ? 'D' : snD) : (snD !== 'D' ? 'U' : snD); } touchX = null; touchY = null; });
    </script>
</body>
</html>
